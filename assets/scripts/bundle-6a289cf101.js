!function t(e,i,s){function n(r,a){if(!i[r]){if(!e[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[r]={exports:{}};e[r][0].call(d.exports,function(t){var i=e[r][1][t];return n(i||t)},d,d.exports,t,e,i,s)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<s.length;r++)n(s[r]);return n}({"/home/travis/build/leihla/violoncelando/app/assets/scripts/bookblock.min.js":[function(t,e,i){"use strict";!function(t){function e(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function i(t,i){this.el=t,this.options=e(this.defaults,i),this._init()}var s=t.document,n=t.Modernizr;n.addTest("csstransformspreserve3d",function(){var e,i=n.prefixed("transformStyle"),s="preserve-3d";return!!i&&(i=i.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-"),n.testStyles("#modernizr{"+i+":"+s+";}",function(s,n){e=t.getComputedStyle?getComputedStyle(s,null).getPropertyValue(i):""}),e===s)}),i.prototype={defaults:{startPage:1,orientation:"vertical",direction:"ltr",speed:1e3,easing:"ease-in-out",shadows:!0,shadowSides:.2,shadowFlip:.1,circular:!1,nextEl:"",prevEl:"",autoplay:!1,interval:3e3,onEndFlip:function(t,e,i){return!1},onBeforeFlip:function(t){return!1}},_init:function(){this.el.className+=" bb-"+this.options.orientation,this.items=Array.prototype.slice.call(this.el.querySelectorAll(".bb-item")),this.itemsCount=this.items.length,this.options.startPage>0&&this.options.startPage<=this.itemsCount?this.currentIdx=this.options.startPage-1:this.currentIdx=0,this.previous=-1,this.current=this.items[this.currentIdx],this.current.style.display="block",this.elWidth=this.el.offsetWidth;var t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};this.transEndEventName=t[n.prefixed("transition")],this.support=n.csstransitions&&n.csstransforms3d&&n.csstransformspreserve3d,this._initEvents(),this.options.autoplay&&(this.options.circular=!0,this._startSlideshow())},_initEvents:function(){var e=this;""!==this.options.nextEl&&(s.querySelector(this.options.nextEl).addEventListener("click",function(){return e._action("next"),!1}),s.querySelector(this.options.nextEl).addEventListener("touchstart",function(){return e._action("next"),!1})),""!==this.options.prevEl&&(s.querySelector(this.options.prevEl).addEventListener("click",function(){return e._action("prev"),!1}),s.querySelector(this.options.prevEl).addEventListener("touchstart",function(){return e._action("prev"),!1})),t.addEventListener("resize",function(){e._resizeHandler()})},_action:function(t,e){this._stopSlideshow(),this._navigate(t,e)},_navigate:function(t,e){if(this.isAnimating)return!1;this.options.onBeforeFlip(this.currentIdx),this.isAnimating=!0,this.current=this.items[this.currentIdx],void 0!==e?this.currentIdx=e:"next"===t&&"ltr"===this.options.direction||"prev"===t&&"rtl"===this.options.direction?this.options.circular||this.currentIdx!==this.itemsCount-1?(this.previous=this.currentIdx,this.currentIdx=this.currentIdx<this.itemsCount-1?this.currentIdx+1:0):this.end=!0:("prev"===t&&"ltr"===this.options.direction||"next"===t&&"rtl"===this.options.direction)&&(this.options.circular||0!==this.currentIdx?(this.previous=this.currentIdx,this.currentIdx=this.currentIdx>0?this.currentIdx-1:this.itemsCount-1):this.end=!0),this.nextItem=!this.options.circular&&this.end?this.current:this.items[this.currentIdx],this.items.forEach(function(t,e){t.style.display="none"}),this.support?this._layout(t):this._layoutNoSupport(t)},_layoutNoSupport:function(t){this.nextItem.style.display="block",this.end=!1,this.isAnimating=!1;var e="next"===t&&this.currentIdx===this.itemsCount-1||"prev"===t&&0===this.currentIdx;this.options.onEndFlip(this.previous,this.currentIdx,e)},_layout:function(t){var e=this,i=this._addSide("left",t),s=this._addSide("middle",t),n=this._addSide("right",t),o=i.querySelector("div.bb-overlay"),r=s.querySelector("div.bb-front").querySelector("div.bb-flipoverlay"),a=s.querySelector("div.bb-back").querySelector("div.bb-flipoverlay"),l=n.querySelector("div.bb-overlay"),c=this.end?400:this.options.speed,d=this.items[0];this.el.insertBefore(i,d),this.el.insertBefore(s,d),this.el.insertBefore(n,d),i.style.zIndex=102,s.style.zIndex=103,n.style.zIndex=101,s.style.transitionDuration=c+"ms",s.style.transitionTimingFunction=this.options.easing,s.addEventListener(this.transEndEventName,function(i){if((" "+i.target.className+" ").replace(/[\n\t]/g," ").indexOf(" bb-page ")>-1){Array.prototype.slice.call(e.el.querySelectorAll(".bb-page")).forEach(function(t,i){e.el.removeChild(t)}),e.nextItem.style.display="block",e.end=!1,e.isAnimating=!1;var s="next"===t&&e.currentIdx===e.itemsCount-1||"prev"===t&&0===e.currentIdx;e.options.onEndFlip(e.previous,e.currentIdx,s)}}),"prev"===t&&(s.className+=" bb-flip-initial"),this.options.shadows&&!this.end&&("next"===t?(r.style.transition="opacity "+this.options.speed/2+"ms linear",a.style.transition="opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms",a.style.opacity=this.options.shadowFlip,o.style.transition="opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms",l.style.transition="opacity "+this.options.speed/2+"ms linear",l.style.opacity=this.options.shadowSides):"prev"===t&&(r.style.transition="opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms",r.style.opacity=this.options.shadowFlip,a.style.transition="opacity "+this.options.speed/2+"ms linear",o.style.transition="opacity "+this.options.speed/2+"ms linear",o.style.opacity=this.options.shadowSides,l.style.transition="opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms")),setTimeout(function(){s.className+=e.end?" bb-flip-"+t+"-end":" bb-flip-"+t,e.options.shadows&&!e.end&&(r.style.opacity="next"===t?e.options.shadowFlip:0,a.style.opacity="next"===t?0:e.options.shadowFlip,o.style.opacity="next"===t?e.options.shadowSides:0,l.style.opacity="next"===t?0:e.options.shadowSides)},25)},_addSide:function(t,e){var i=s.createElement("div");switch(i.className="bb-page",t){case"left":r="next"===e?this.current.innerHTML:this.nextItem.innerHTML;i.innerHTML='<div class="bb-back"><div class="bb-outer"><div class="bb-content"><div class="bb-inner">'+r+'</div></div><div class="bb-overlay"></div></div></div>';break;case"middle":var n="next"===e?this.current.innerHTML:this.nextItem.innerHTML,o="next"===e?this.nextItem.innerHTML:this.current.innerHTML;i.innerHTML='<div class="bb-front"><div class="bb-outer"><div class="bb-content"><div class="bb-inner">'+n+'</div></div><div class="bb-flipoverlay"></div></div></div><div class="bb-back"><div class="bb-outer"><div class="bb-content" style="width:'+this.elWidth+'px"><div class="bb-inner">'+o+'</div></div><div class="bb-flipoverlay"></div></div></div>';break;case"right":var r="next"===e?this.nextItem.innerHTML:this.current.innerHTML;i.innerHTML='<div class="bb-front"><div class="bb-outer"><div class="bb-content"><div class="bb-inner">'+r+'</div></div><div class="bb-overlay"></div></div></div>'}return i},_startSlideshow:function(){var t=this;this.slideshow=setTimeout(function(){t._navigate("next"),t.options.autoplay&&t._startSlideshow()},this.options.interval)},_stopSlideshow:function(){this.options.autoplay&&(clearTimeout(this.slideshow),this.options.autoplay=!1)},next:function(){this._action("ltr"===this.options.direction?"next":"prev")},prev:function(){this._action("ltr"===this.options.direction?"prev":"next")},jump:function(t){if((t-=1)===this.currentIdx||t>=this.itemsCount||t<0)return!1;var e;e="ltr"===this.options.direction?t>this.currentIdx?"next":"prev":t>this.currentIdx?"prev":"next",this._action(e,t)},last:function(){this.jump(this.itemsCount)},first:function(){this.jump(1)},_resizeHandler:function(){function t(){e._resize(),e._resizeTimeout=null}var e=this;this._resizeTimeout&&clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout(t,50)},_resize:function(){this.elWidth=this.el.offsetWidth},isActive:function(){return this.isAnimating},update:function(){var t=this.items[this.current];this.items=Array.prototype.slice.call(this.el.querySelectorAll(".bb-item")),this.itemsCount=this.items.length,this.currentIdx=this.items.indexOf(t)},destroy:function(){this.options.autoplay&&this._stopSlideshow(),this.el.className=this.el.className.replace(new RegExp("(^|\\s+)bb-"+this.options.orientation+"(\\s+|$)")," "),this.items.forEach(function(t,e){t.style.display="block"}),""!==this.options.nextEl&&(this.options.nextEl.removeEventListener("click"),this.options.nextEl.removeEventListener("touchstart")),""!==this.options.prevEl&&(this.options.prevEl.removeEventListener("click"),this.options.prevEl.removeEventListener("touchstart")),t.removeEventListener("debouncedresize")}},t.BookBlock=i}(window)},{}],"/home/travis/build/leihla/violoncelando/app/assets/scripts/bookshelf.js":[function(t,e,i){"use strict";!function(){function t(){return window.pageYOffset||window.document.documentElement.scrollTop}function e(t){this.el=t,this.book=this.el.querySelector(".book"),this.ctrls=this.el.querySelector(".buttons"),this.details=this.el.querySelector(".details"),this._layout(),this.bbWrapper=document.getElementById(this.book.getAttribute("data-book")),this.bbWrapper&&this._initBookBlock(),this._initEvents();var e=this.el.querySelector("[data-book]").getAttribute("data-book"),i=document.querySelectorAll("#"+e+' [data-hook="book-nav"]'),s=this;[].slice.call(i).forEach(function(t){t.addEventListener("click",function(e){e.preventDefault();var i=t.getAttribute("data-page");s.bb.jump(i)})})}var i="WebkitAnimation"in document.body.style||"MozAnimation"in document.body.style||"msAnimation"in document.body.style||"OAnimation"in document.body.style||"animation"in document.body.style,s={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"}[Modernizr.prefixed("animation")],n=document.getElementById("scroll-wrap"),o=0,r=document.querySelectorAll("#bookshelf > figure");e.prototype._layout=function(){if(Modernizr.csstransforms3d){this.book.innerHTML='<div class="cover"><div class="front"></div><div class="inner inner-left"></div></div><div class="inner inner-right"></div>';var t=document.createElement("div");t.className="perspective",t.appendChild(this.book),this.el.insertBefore(t,this.ctrls)}this.closeDetailsCtrl=document.createElement("span"),this.closeDetailsCtrl.className="close-details",this.details.appendChild(this.closeDetailsCtrl)},e.prototype._initBookBlock=function(){this.bb=new BookBlock(this.bbWrapper.querySelector(".bb-bookblock"),{speed:700,shadowSides:.8,shadowFlip:.4}),this.ctrlBBClose=this.bbWrapper.querySelector(" .bb-nav-close"),this.ctrlBBNext=this.bbWrapper.querySelector(" .bb-nav-next"),this.ctrlBBPrev=this.bbWrapper.querySelector(" .bb-nav-prev")},e.prototype._initEvents=function(){var t=this;this.ctrls&&(this.bb&&(this.ctrls.querySelector("a:nth-child(1)").addEventListener("click",function(e){e.preventDefault(),t._open()}),this.ctrlBBClose.addEventListener("click",function(e){e.preventDefault(),t._close()}),this.ctrlBBNext.addEventListener("click",function(e){e.preventDefault(),t._nextPage()}),this.ctrlBBPrev.addEventListener("click",function(e){e.preventDefault(),t._prevPage()})),this.ctrls.querySelector("a:nth-child(2)").addEventListener("click",function(e){e.preventDefault(),t._showDetails()}),this.closeDetailsCtrl.addEventListener("click",function(){t._hideDetails()}))},e.prototype._open=function(){o=t(),classie.remove(this.el,"close"),classie.remove(this.bbWrapper,"hide"),classie.add(this.el,"open"),classie.add(this.bbWrapper,"show");var e=function t(e){this.removeEventListener(s,t),document.body.scrollTop=document.documentElement.scrollTop=0,classie.add(n,"hide-overflow")};i?this.bbWrapper.addEventListener(s,e):e.call()},e.prototype._close=function(){classie.remove(n,"hide-overflow"),setTimeout(function(){document.body.scrollTop=document.documentElement.scrollTop=o},25),classie.remove(this.el,"open"),classie.add(this.el,"close"),classie.remove(this.bbWrapper,"show"),classie.add(this.bbWrapper,"hide");var t=this,e=function e(i){this.removeEventListener(s,e),t.bb.jump(1),classie.remove(t.el,"close"),classie.remove(t.bbWrapper,"hide")};i?this.bbWrapper.addEventListener(s,e):e.call()},e.prototype._nextPage=function(){this.bb.next()},e.prototype._prevPage=function(){this.bb.prev()},e.prototype._showDetails=function(){classie.add(this.el,"details-open")},e.prototype._hideDetails=function(){classie.remove(this.el,"details-open")},function(){[].slice.call(r).forEach(function(t){new e(t)})}()}()},{}],"/home/travis/build/leihla/violoncelando/app/assets/scripts/classie.js":[function(t,e,i){"use strict";!function(t){function e(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function i(t,e){(s(t,e)?o:n)(t,e)}var s,n,o;"classList"in document.documentElement?(s=function(t,e){return t.classList.contains(e)},n=function(t,e){t.classList.add(e)},o=function(t,e){t.classList.remove(e)}):(s=function(t,i){return e(i).test(t.className)},n=function(t,e){s(t,e)||(t.className=t.className+" "+e)},o=function(t,i){t.className=t.className.replace(e(i)," ")});var r={hasClass:s,addClass:n,removeClass:o,toggleClass:i,has:s,add:n,remove:o,toggle:i};"function"==typeof define&&define.amd?define(r):t.classie=r}(window)},{}],"/home/travis/build/leihla/violoncelando/app/assets/scripts/main.js":[function(t,e,i){"use strict";t("./bookblock.min"),t("./classie"),t("./bookshelf")},{"./bookblock.min":"/home/travis/build/leihla/violoncelando/app/assets/scripts/bookblock.min.js","./bookshelf":"/home/travis/build/leihla/violoncelando/app/assets/scripts/bookshelf.js","./classie":"/home/travis/build/leihla/violoncelando/app/assets/scripts/classie.js"}]},{},["/home/travis/build/leihla/violoncelando/app/assets/scripts/main.js"]);